<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="x-ua-compatible" content="IE=edge">
        <title>Hair salon ○○ - HOME</title>
        <link href="style.css" rel="stylesheet">
        <script src="jquery-1.10.2.min.js"></script>
        <script src="jquery-ui-1.10.3.custom.min.js"></script>
        <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.js"></script>
        <script src="imagesloaded.pkgd.min.js"></script>
        <script src="modernizr.custom.min.js"></script>
        <script src="masonry.pkgd.min.js"></script>
        <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
    </head>
    <body>
        <!-- プログレス表示 -->
        <div class="progress" id="progress">
            <span class="progress-bar"></span>
            <span class="progress-text">0%</span>
        </div>
        
        <header class="page-header">
            <div class="header-wrapper">
                <div class="logo"></div>
                <h1 class="main-title"><a href="#">Hair salon ○○</a></h1>
                <div class="access">
                    <div class="access">
                        <a class="reserve" href="https://beauty.hotpepper.jp/">24H WEB予約</a>
                        <div id="nav-wrapper" class="nav-wrapper">
                            <div class="hamburger" id="js-hamburger">
                                <span class="hamburger__line hamburger__line--1"></span>
                                <span class="hamburger__line hamburger__line--2"></span>
                                <span class="hamburger__line hamburger__line--3"></span>
                            </div>

                            <nav class="sp-nav">
                                <ul>
                                        <li><a href="menshair.html">MENS HAIR</a></li>
                                        <li><a href="ledieshair.html">LEDIES HAIR</a></li>
                                        <li><a href="price.html">PRICE</a></li>
                                        <li><a href="access.html">SALON</a></li>
                                </ul>
                            </nav>
                            <div class="black-bg" id="js-black-bg"></div>
                        </div>
                    </div>
                </div>
            </div>
                <section class="menu">
                    <ul>
                        <li><a href="index.html" class="mouse1">HOME</a></li>
                        <li><a href="access.html" class="mouse2">ACCESS</a></li>
                        <li><a href="contact.html" class="mouse3">CONTACT</a></li>
                    </ul>
                </section>
        </header>
        <main>       
            <section class="main-visual slide">
                <div class="image_box">
                    <img src="image\main2.jpg" alt="mainvisual" id="main_image">
                </div>
                <div class="toolbar">
                    <div class="nav">
                        <div id="prev"></div>
                        <div id="next"></div>
                    </div>
                </div>
            </section>

            <section class="hair-style">
                <h2><span class="c-marker">HIT HAIR</span></h2>
                <div class="style">
                    <div class="mens">
                        <a class="mens-hair" href="menshair.html"><img src="image\mens-hair.jpg" alt="mens-hair" class="fadeIn fadeIn-up"></a>
                        <p>MENS</p>
                    </div>
                    <div class="ledies">
                        <a class="ledies-hair" href="ledieshair.html"><img src="image\ledies-hair.jpg" alt="ledies-hair" class="fadeIn fadeIn-up"></a>
                        <p>LEDIES</p>
                    </div>
                </div>
            </section>

            <section class="news">
                <h2><span class="c-marker">NEWS</span></h2>
                <div class="news-list">
                    <dl>
                        <dt>2022/7/21</dt>
                        <dd>テキストテキストテキストテキストテキスト</dd>
                        <dt>2022/6/23</dt>
                        <dd>メンズ韓国ヘアーBOOKにスタイルを掲載して頂きました!!</dd>
                        <dt>2022/2/1</dt>
                        <dd>サイトをリニューアルしました</dd>
                    </dl>
                </div>
            </section>

            <section class="salon">
                <h2><span class="c-marker">SALON</span></h2>
                <div class="salons inner clearfix">
                    <div class="salon-list1 fadeIn">
                        <a href="access.html#omote"><img src="image\main2.jpg"></a>
                        <p><strong>hair ○○ 渋谷</strong><span></span></p>
                    </div>
                    <div class="salon-list2 fadeIn">
                        <a href="access.html#harajyuku"><img src="image\main3.jpg"></a>
                        <p><strong>hair ○○ 原宿</strong><span></span></p>
                    </div>
                    <div class="salon-list3 fadeIn">
                        <a href="access.html#ikebukuro"><img src="image\main4.jpg"></a>
                        <p><strong>hair ○○ 池袋</strong><span></span></p>
                    </div>
                </div>
            </section>

            <section class="concept">
                <h2><span class="c-marker">CONCEPT</span></h2>
                <div class="concept-wrapper">
                        <div class="concept-1">
                            <img src="image\concept1.jpg" alt="カウンセリング" class="fadeIn fadeIn-left">
                            <div class="concept-text">
                                <h3>カウンセリング</h3>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                            </div>
                        </div>
                        <div class="concept-2">
                            <div class="concept-text">
                                <h3>技術力</h3>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                            </div>
                            <img src="image\concept2.jpeg" alt="技術力" class="fadeIn fade-In-right">
                        </div>
                        <div class="concept-3">
                            <img src="image\concept3.jpg" alt="心地良い空間" class="fadeIn fadeIn-left">
                            <div class="concept-text">
                                <h3>心地良い空間</h3>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                                <p>テキストテキストテキストテキストテキストテキストテキストテキスト</p>
                            </div>
                        </div>
                </div>
            </section>

            <section>
                <form id="pulldown">
                    <select name="select_menu">
                        <option value="index.html">HOME</option>
                        <option value="access.html">ACCESS</option>
                        <option value="contact.html">CONTACT</option>
                    </select>
                </form>
            </section>

            <section class="access-time">
                <p>最終アクセス日時:<span id="time"></span></p>
            </section>

            <div class="pagetop">Top</div>

        </main>
        <footer>
            <div class="footer-wrapper">
                <button type="button" class="back-to-top">
                    <span class="label">↑</span>
                </button>
                <p><small>&copy; 2022 Hair salon ○○</small></p>
            </div>
        </footer>
        <script>
        //フェードイン(アニメーション)
            (function ($){
                $(document).ready(function ($){
                    // フェードイン
                    $(window).scroll(function () {
                        $('.fadeIn').each(function () {
                            var scroll = $(window).scrollTop(); // 現在のスクロール位置
                            var offset = $(this).offset().top; // 対象の上からの位置
                            var windowHeight = $(window).height(); // ウィンドウの高さ
                            if (scroll > offset - windowHeight + 150) {
                                $(this).addClass("scrollIn");
                            }
                        });
                    });
                });
            })(jQuery);
            
        // スライドショー
            var images = ['image/main2.jpg','image/main3.jpg','image/main4.jpg'];
            var currents = 0;
            var changeImage = function(num) {
                if(currents + num >= 0 && currents + num < images.length) {
                    currents += num;
                    document.getElementById('main_image').src = images[currents];
                }
            };

            document.getElementById("prev").onclick = function() {
                changeImage(-1); //クリックで戻る
            };
            document.getElementById('next').onclick = function() {
                changeImage(1); //クリックで進む
            };

        //最終アクセス日時
            var now = new Date();
            var year = now.getFullYear();
            var month = now.getMonth();
            var date = now.getDate();
            var hour = now.getHours();
            var min = now.getMinutes();
            var ampm = '';
            if(hour < 12) {
                ampm = ' a.m.';
            } else {
                ampm = ' p.m.';
            }

            var output = year + '/' + (month + 1) + '/' + date + ' ' + (hour % 12) + ':' + min + ampm;
            document.getElementById('time').textContent = output;

        //マーカー(スクロールでマーカーが引かれる)
            $(window).scroll(function (){
                $(".c-marker").each(function(){
                    var position = $(this).offset().top; //ページの一番上から要素までの距離を取得
                    var scroll = $(window).scrollTop(); //スクロールの位置を取得
                    var windowHeight = $(window).height(); //ウインドウの高さを取得
                    if (scroll > position - windowHeight){ //スクロール位置が要素の位置を過ぎたとき
                        $(this).addClass('is-active'); //クラス「active」を与える
                    }
                });
            });

        //ハンバーガーメニュー(ナビゲーションメニュー)
            window.onload = function () {
                var nav = document.getElementById('nav-wrapper');
                var hamburger = document.getElementById('js-hamburger');
                var blackBg = document.getElementById('js-black-bg');

            hamburger.addEventListener('click', function () {
                nav.classList.toggle('open'); //開く
            });
            blackBg.addEventListener('click', function () {
                nav.classList.remove('open'); //閉じる
            });
            };

        //プルダウンメニュー
            document.getElementById('pulldown').select_menu.onchange = () => {
                location.href = document.getElementById('pulldown').select_menu.value;
            }

        //ページトップへ戻るボタン
            // セレクタ名（.pagetop）に一致する要素を取得
            const pagetop_btn = document.querySelector(".pagetop");

            // .pagetopをクリックしたら
            pagetop_btn.addEventListener("click", scroll_top);

            // ページ上部へスムーズに移動
            function scroll_top() {
                window.scroll({ top: 0, behavior: "smooth" });
            }

            // スクロールされたら表示
            window.addEventListener("scroll", scroll_event);
                function scroll_event() {
                if (window.pageYOffset > 100) {
                    pagetop_btn.style.opacity = "1";
                } else if (window.pageYOffset < 100) {
                    pagetop_btn.style.opacity = "0";
                }
            }

        //マウスが乗ったとき・離れた時で色が変わる 
            $(function(){
                //homeボタン
                $('.mouse1').on('mouseover',function(){   //マウスオーバー
                    $(this).css('color','red');    
                })
                $('.mouse1').on('mouseout',function(){    //マウスアウト
                    $(this).css('color','black');
                })

                //accessボタン
                $(".mouse2").on("mouseover",function(){
                    $(this).css("color","blue");
                })
                $(".mouse2").on("mouseout",function(){
                    $(this).css("color","black");
                })

                //contactボタン
                $(".mouse3").on("mouseover",function(){
                    $(this).css("color","green");
                })
                $(".mouse3").on("mouseout",function(){
                    $(this).css("color","black");
                })
            });

        //スティッキーヘッダー ヘッダー固定
            $(function () {
                $('.page-header').each(function(){
                    $window = $(window),//ウィンドウをjQueryオブジェクト化
                    $header = $(this),//ヘッダーをjQueryオブジェクト化
                    //ヘッダーのデフォルト位置を取得,offset() jQuery要素のドキュメント上の位置を取得するメソッド
                    headerOffsetTop = $header.offset().top;

                    //ウィンドウのスクロールイベントを監視(ウィンドウがスクロールするごとに処理を実行する)
                    $window.on('scroll',function(){
                        //ウィンドウのスクロール量をチェックし、
                        //ヘッダーのデフォルト位置を過ぎていればクラスを付与、
                        //そうでなければ削除
                        if ($window.scrollTop() > headerOffsetTop) {
                            $header.addClass('sticky');
                        } else {
                            $header.removeClass('sticky');
                        }
                    });

                    //ウィンドウのスクロールイベントを発生させる(ヘッダーの初期位置を発生させるため)
                    $window.trigger('scroll');
                });
            });
        
        //画像とキャプションの表現
            $(function(){
                var duration = 500;

                //images
                var $images = $('.salons');
                $images.on('mouseover',function(){
                    $(this).find('strong,span').stop(true).animate({
                        opacity:1
                    },duration);
                })
                .on('mouseout',function(){
                    $(this).find('strong','span').stop(true).animate({
                        opacity:0
                    },duration);
                });
            });
        //プログレス表示
        $(function(){
            //プログレス表示の関数を呼び出す
            imagesProgress();

            //画像の読み込み状況をプログレス表示
            function imagesProgress() {
                var $container = $('#progress');
                var $progressBar = $container.find('.progress-bar');
                var $progressText = $container.find('.progress-text');

                    //imagesLoadライブラリでbody要素内の画像の読み込み状況を監視
                    //同時にbody全体の総数を保存
                var imgLoad = imagesLoaded('body');
                var imgTotal = imgLoad.images.length;

                    //読み込みの完了した画像のカウンターと、
                    //プログレス表示の現在地にあたる数値(ともに最初は0)
                    imgLoaded = 0,
                    current = 0,

                    //1秒間に60回のペースで読み込み状況をチェック
                    progressTimer = setInterval(updateProgress,1000/60);

                //imagesLoadedを利用し、画像が読み込まれるごとにカウンターを加算
                imgLoad.on('progress',function (){
                    imgLoaded++;
                });

                //画像の読み込み状況をもとにプログレス表示を更新
                //この関数はsetInterval()メソッドにより1秒間に60回呼び出される
                function updateProgress () {

                    //読み込み完了した画像のパーセンテージ
                    var target = (imgLoaded / imgTotal) * 100;

                    //current(現在地)とtarget(目的地)の距離をもとにイージングをかける
                    current += (target - current) * 0.09;

                    //表示バーの幅とテキストにcurrent値を反映
                    //テキストは小数点以下を切り捨てて整数に
                    $progressBar.css({width: current + '%'});
                    $progressText.text(Math.floor(current) + '%');

                    //終了処理
                    if(current >= 100){
                        clearInterval(progressTimer);
                        $container.addClass('progress-complete');
                        $progressBar.add($progressText)
                            .delay(500)
                            .animate({opacity:0},250,function(){
                                $container.animate({
                                    top: '-10000px'
                                },1000,'easeInOutQuint');
                            });
                    }

                    //currentが99.9より大きければ100とみなして終了処理へ
                    if (current > 99.9) {
                        current = 100;
                    }
                }
            } 
        });

        //スムーズスクロール
        $(function (){
            $('.back-to-top').each(function(){
                //htmlかbodyのいずれがスクロール可能な要素かを検出
                var el = scrollableElement('html','body');

                //ボタンにクリックイベントを設定
                $(this).on('click',function(event){
                    event.preventDefault();
                    $(el).animate({scrollTop:0},250);
                });
            });
            //scrollTop が利用できる要素を検出する関数
            function scrollableElement() {
                var i,len,el,$el,scrollable;
                for (i=0,len=arguments.length;i<len;i++) {
                    el = arguments[i],
                    $el = $(el);
                    if ($el.scrollTop() > 0){
                        return el;
                    } else {
                        $el.scrollTop(1);
                        scrollable = $el.scrollTop() > 0;
                        $el.scrollTop(0);
                        if (scrollable) {
                            return el;
                        }
                    }
                }
                return [];
            }
        });

        </script>
    </body>
</html>